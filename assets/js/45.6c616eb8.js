(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{562:function(s,e,n){"use strict";n.r(e);var a=n(12),t=Object(a.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("blockquote",[n("p",[n("a",{attrs:{href:"https://h5bp.org/Front-end-Developer-Interview-Questions/translations/chinese/",target:"_blank",rel:"noopener noreferrer"}},[s._v("前端工作面试问题"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"一、手写promise"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、手写promise"}},[s._v("#")]),s._v(" 一、手写promise")]),s._v(" "),n("p",[s._v("参考文章：")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://juejin.cn/post/6844903607968481287#heading-0",target:"_blank",rel:"noopener noreferrer"}},[s._v("Promise不会？？看这里！！！史上最通俗易懂的Promise！！！"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("阮一峰大神文章："),n("a",{attrs:{href:"https://es6.ruanyifeng.com/#docs/promise",target:"_blank",rel:"noopener noreferrer"}},[s._v("Promise对象"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("a",{attrs:{href:"https://juejin.cn/post/6952083081519955998#heading-0",target:"_blank",rel:"noopener noreferrer"}},[s._v("面试官对不起！我终于会了Promise...(一面凉经泪目）"),n("OutboundLink")],1)]),s._v(" "),n("h3",{attrs:{id:"_01-promise特点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_01-promise特点"}},[s._v("#")]),s._v(" 01.Promise特点")]),s._v(" "),n("p",[s._v("ECMAscript 6 原生提供了 Promise 对象。")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("Promise 对象代表了未来将要发生的事件，用来传递异步操作的消息。")])]),s._v(" "),n("li",[n("p",[s._v("promise有三种状态： "),n("strong",[s._v("pending(等待态)，fulfiled(成功态)，rejected(失败态)")]),s._v(" ；")])]),s._v(" "),n("li",[n("p",[s._v("状态一旦改变，就不会再变。创造promise实例后，它会立即执行。")])]),s._v(" "),n("li",[n("p",[s._v("这个promise可以解决异步的问题，本身不能说promise是异步的")])])]),s._v(" "),n("p",[s._v("优点：")]),s._v(" "),n("ul",[n("li",[s._v("将异步操作以同步操作的流程表达出来，避免了层层嵌套的回调函数，落入回调地狱；")]),s._v(" "),n("li",[s._v("Promise 对象提供统一的接口，使得控制异步操作更加容易")])]),s._v(" "),n("p",[s._v("缺点：")]),s._v(" "),n("ul",[n("li",[s._v("无法取消 Promise，一旦新建它就会立即执行，无法中途取消；")]),s._v(" "),n("li",[s._v("如果不设置回调函数，Promise 内部抛出的错误，不会反应到外部；")]),s._v(" "),n("li",[s._v("当处于 Pending 状态时，无法得知目前进展到哪一个阶段（刚刚开始还是即将完成）。")])]),s._v(" "),n("h3",{attrs:{id:"_02-es6-promise-用法详解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_02-es6-promise-用法详解"}},[s._v("#")]),s._v(" 02.ES6 promise 用法详解")]),s._v(" "),n("p",[s._v("Promise是一个构造函数，本身有all、reject、resolve 常用方法，原型上有 then、catch 等方法。")]),s._v(" "),n("p",[s._v("Promise构造函数接收一个参数：函数，该函数需要传入两个参数：")]),s._v(" "),n("ul",[n("li",[s._v("resolve： 异步操作执行成功后的回调函数；")]),s._v(" "),n("li",[s._v("reject： 异步操作执行失败后的回调函数。")])]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("const p = new Promise((resolve,reject)=>{\n    setTimeout(()=>{\n        console.log('执行完成！');\n        resolve('异步操作成功啦！')\n    },2000);\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h4",{attrs:{id:"then链式操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#then链式操作"}},[s._v("#")]),s._v(" then链式操作")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("p.then((data) => {\n    console.log(data);\n})\n.then((data) => {\n    console.log(data);\n})\n.then((data) => {\n    console.log(data);\n});\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h4",{attrs:{id:"reject用法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#reject用法"}},[s._v("#")]),s._v(" reject用法")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("const p = new Promise((resolve,reject)=>{\n    setTimeout(function(){\n        const num = Math.ceil(Math.random()*10);\n        if(num<=5){\n            resolve(num);\n        }else{\n            reject('数字大于5')\n        }\n    },2000);\n});\n\np.then((data)=>{\n    console.log('resolved',data);\n},(err)=>{\n    console.log('rejected',err);\n});\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("把Promise的状态置为rejected，这样我们在then中就能捕捉到，然后执行“失败”情况的回调。")]),s._v(" "),n("p",[s._v("then方法可以接受两个参数：")]),s._v(" "),n("ul",[n("li",[s._v("第一个对应resolve的回调；")]),s._v(" "),n("li",[s._v("第二个对应reject的回调，所以我们能够分别拿到他们传过来的数据。")])]),s._v(" "),n("h4",{attrs:{id:"catch方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#catch方法"}},[s._v("#")]),s._v(" catch方法")]),s._v(" "),n("p",[s._v("catch其实它和then的第二个参数一样，用来指定reject的回调。")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("p.then((data)=>{\n    console.log('resolved',data)\n}).catch((erro)=>{\n    console.log('rejected',erro);\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("此外，在执行resolve的回调（也就是上面then中的第一个参数）时，如果抛出异常了（代码出错了），那么并不会报错卡死js，而是会进到这个catch方法中。")]),s._v(" "),n("p",[s._v('Promise 对象的错误具有"冒泡"性质，会一直向后传递，直到被捕获为止。也就是说，错误总是会被下一个 catch 语句捕获。')]),s._v(" "),n("h4",{attrs:{id:"all方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#all方法"}},[s._v("#")]),s._v(" all方法")]),s._v(" "),n("p",[s._v("谁跑的慢，以谁为准执行回调。all接收一个数组参数，里面的值最终都算返回Promise对象。")]),s._v(" "),n("p",[s._v("Promise的all方法提供了并行执行异步操作的能力，并且在所有异步操作执行完后才执行回调。")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("const Promise1 = new Promise(function(resolve,reject){})\nconst Promise2 = new Promise(function(resolve,reject){})\nconst Promise3 = new Promise(function(resolve,reject){})\n\nconst p = Promise.all([Promise1,Promise2,Promise3])\n\np.then(function(){\n    //三个都成功则成功\n},function(){\n    //只要有失败，则失败\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[n("em",[s._v("有一个场景是很适合用这个的，一些游戏类的素材比较多的应用，打开网页时，预先加载需要用到的各种资源如图片、flash以及各种静态文件。所有的都加载完后，我们再进行页面的初始化。")])]),s._v(" "),n("h4",{attrs:{id:"race方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#race方法"}},[s._v("#")]),s._v(" race方法")]),s._v(" "),n("p",[s._v("谁跑的快，以谁为准执行回调。")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[s._v("\nfunction requestImg(){\n    const p =new Promise((resolve,reject)=>{\n        const img = new Image();\n        img.onload = function(){\n            resolve(img);\n        }\n        img.src = 'path'\n    });\n    return p;\n}\n\nfunction timeout(){\n    const p = new Promise((resolve,reject)=>{\n        setTimeout(() => {\n            reject('图片请求超时');\n        }, 2000);\n    });\n    return p;\n}\n\nPromise.race([requestImg(),timeout()])\n.then((data)=>{\n    console.log(data);\n})\n.catch((err)=>{\n    console.log(err);\n})\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("h3",{attrs:{id:"_03-手写promise"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_03-手写promise"}},[s._v("#")]),s._v(" 03.手写Promise")]),s._v(" "),n("p",[s._v("封装一系列内置方法，需要包括：")]),s._v(" "),n("ul",[n("li",[s._v("捕获错误的方法 catch()")]),s._v(" "),n("li",[s._v("解析全部方法 all()")]),s._v(" "),n("li",[s._v("竞赛 race()")]),s._v(" "),n("li",[s._v("生成一个成功的 promise resolve()")]),s._v(" "),n("li",[s._v("生成一个失败的 promise reject()")])]),s._v(" "),n("h2",{attrs:{id:"二、闭包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、闭包"}},[s._v("#")]),s._v(" 二、闭包")]),s._v(" "),n("h2",{attrs:{id:"三、原型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三、原型"}},[s._v("#")]),s._v(" 三、原型")]),s._v(" "),n("h2",{attrs:{id:"四、call-apply"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四、call-apply"}},[s._v("#")]),s._v(" 四、call apply")]),s._v(" "),n("h2",{attrs:{id:"五、webpack"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#五、webpack"}},[s._v("#")]),s._v(" 五、Webpack")]),s._v(" "),n("p",[s._v("参考文章：")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://juejin.cn/post/7023242274876162084#heading-59",target:"_blank",rel:"noopener noreferrer"}},[s._v("🔥【万字】透过分析 webpack 面试题，构建 webpack5.x 知识体系"),n("OutboundLink")],1),s._v("​")])])}),[],!1,null,null,null);e.default=t.exports}}]);